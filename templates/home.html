<!DOCTYPE html>
<html>
    <head>
        <title> Chess </title>
        <link rel="stylesheet" href="{{ url_for('static',filename='css/main.css') }}">

    </head>
    <body>
        <header>
        <div class="home">
            <h2 class="logo"> Chess </h2>
            <h3 id="readout"> It's a lovely afternoon for a clash of flesh and silicon. </h3>




            <h3>
            <button type="button" onclick="start_game()">New Game</button>

            <!-- four-button Promotion input -->
            <p> </p>
            <p id="promoSelect" style = "display:none">
                <button type="button"
                onclick="boardCanvas.gameBoardState.handlePromotion(0)" >
                Queen </button>
                <button type="button"
                onclick="boardCanvas.gameBoardState.handlePromotion(2)" >
                Bishop </button>
                <button type="button"
                onclick="boardCanvas.gameBoardState.handlePromotion(3)" >
                Knight </button>
                <button type="button"
                onclick="boardCanvas.gameBoardState.handlePromotion(1)" >
                Rook </button>
             </p>
            </h3>

            <p align="center">
                <canvas id="board" width="600" height="600" style="border:3px solid #000000" style="display:none">
                    Your browser does not support canvas. Get a new browser.
                </canvas>
            <p>

                <p>
                Chess move generation/validation library by
                <a href="https://github.com/jhlywa/chess.js/"> jhlywa
                </a>
                </p>

            <br> </br>
        </div>
        <div class="container">
            {% block content %}
            {% endblock %}
        </div>
        </header>
         <!-- script: auxiliary board functions, Move and Loc classes -->
        <script src="{{ url_for('static',filename='/js/board_aux.js') }}"></script>

        <!-- script: Board class and methods -->
        <script src="{{ url_for('static',filename='/js/board_render.js') }}"></script>

        <!-- https://github.com/jhlywa/chess.js/ -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.2/chess.js"></script>

        <script>
        start_game();
        const boardCanvas = document.getElementById('board');
        boardCanvas.addEventListener('click', function(event) {
            var clickedPxLoc = get_click_location(boardCanvas,event);
            boardCanvas.gameBoardState.handle_click(clickedPxLoc);
        } );

        </script>

    </body>
</html>